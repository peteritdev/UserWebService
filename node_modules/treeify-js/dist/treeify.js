"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,n=Array(r.length);e<r.length;e++)n[e]=r[e];return n}return Array.from(r)}!function(r,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):r.treeify=e()}(void 0,function(){function h(r){return"function"==typeof r?r(this):r}function m(t){return Object.keys(t).reduce(function(r,e){var n=t[e];return r[e]=n instanceof Object?m(n):n,r},Array.isArray(t)?[]:{})}return{treeify:function(r,e){var n=Object.assign({id:"id",parentId:"parentId",children:"children",root:null,multi:!1,deepClone:!1},e),t={},o=[],i=function(r){n.multi?o.push(r):o=r},f=void 0,u=void 0,a=!0,y=!1,d=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;n.deepClone&&(p=m(p));var s=h.bind(p);f=p[s(n.id)],u=p[s(n.parentId)],f in t||(t[f]=[]),u in t||(t[u]=[]),p[s(n.children)]=t[f];var b=s(n.root);do{if(n.root||!u)if(n.root){if("boolean"==typeof b&&b||Array.isArray(b)&&b.includes(u)||u===b){i(p);break}}else if(!u){i(p);break}t[u].push(p)}while(0)}}catch(r){y=!0,d=r}finally{try{!a&&c.return&&c.return()}finally{if(y)throw d}}return o},untreeify:function o(r){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"children",f=[];if(!i)throw new Error("The parameter 'childrenName' must be specified.");return(f=Array.isArray(r)?r:[r]).forEach(function(r){var e,n=h.bind(r)(i),t=r[n];Array.isArray(t)&&t.length&&(e=f).push.apply(e,_toConsumableArray(o(t,n))),delete r[n]}),f}}});